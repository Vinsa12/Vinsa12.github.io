!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e||self).loadingAttributePolyfill=t()}(this,(function(){var e,t="loading"in HTMLImageElement.prototype,n="loading"in HTMLIFrameElement.prototype,i="onscroll"in window;function o(e){var t,n,i=[];"picture"===e.parentNode.tagName.toLowerCase()&&((n=(t=e.parentNode).querySelector("source[data-lazy-remove]"))&&t.removeChild(n),i=Array.prototype.slice.call(e.parentNode.querySelectorAll("source"))),i.push(e),i.forEach((function(e){e.hasAttribute("data-lazy-srcset")&&(e.setAttribute("srcset",e.getAttribute("data-lazy-srcset")),e.removeAttribute("data-lazy-srcset"))})),e.setAttribute("src",e.getAttribute("data-lazy-src")),e.removeAttribute("data-lazy-src")}function s(o){var s=document.createElement("div");for(s.innerHTML=function(o){var s=o.textContent||o.innerHTML,a="data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 "+((s.match(/width=['"](\d+)['"]/)||!1)[1]||1)+" "+((s.match(/height=['"](\d+)['"]/)||!1)[1]||1)+"%27%3E%3C/svg%3E";return(/<img/gim.test(s)&&!t||/<iframe/gim.test(s)&&!n)&&i&&(s=void 0===e?s.replace(/(?:\r\n|\r|\n|\t| )src=/g,' lazyload="1" src='):(s=s.replace("<source",'<source srcset="'+a+'" data-lazy-remove="true"></source>\n<source')).replace(/(?:\r\n|\r|\n|\t| )srcset=/g," data-lazy-srcset=").replace(/(?:\r\n|\r|\n|\t| )src=/g,' src="'+a+'" data-lazy-src=')),s}(o);s.firstChild;){var a=s.firstChild;if(i&&void 0!==e&&a.tagName&&(("img"===a.tagName.toLowerCase()||"picture"===a.tagName.toLowerCase())&&!t||"iframe"===a.tagName.toLowerCase()&&!n)){var r="picture"===a.tagName.toLowerCase()?s.querySelector("img"):a;e.observe(r)}o.parentNode.insertBefore(a,o)}o.parentNode.removeChild(o)}window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),"IntersectionObserver"in window&&(e=new IntersectionObserver((function(e,t){e.forEach((function(e){if(0!==e.intersectionRatio){var n=e.target;t.unobserve(n),o(n)}}))}),{rootMargin:"0px 0px 256px 0px",threshold:.01}));var a=function(){document.querySelectorAll("noscript.loading-lazy").forEach((function(e){return s(e)})),void 0!==window.matchMedia&&window.matchMedia("print").addListener((function(e){e.matches&&document.querySelectorAll('img[loading="lazy"][data-lazy-src],iframe[loading="lazy"][data-lazy-src]').forEach((function(e){o(e)}))}))};return/comp|inter/.test(document.readyState)?a():"addEventListener"in document?document.addEventListener("DOMContentLoaded",(function(){a()})):document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&a()})),{prepareElement:s}})),function(e){"use strict";e.helpers={},console.log("Developed with â™¥ by Josh Harrison\nhttps://www.joshharrison.net");const t=new function(){this.makeTemplate=e=>{const t=document.createElement("template");return e=e.trim(),t.innerHTML=e,t},this.htmlToEl=e=>this.makeTemplate(e).content.firstChild,this.htmlToEls=e=>this.makeTemplate(e).content.childNodes,this.delegate=(e,t,n,i)=>{e.addEventListener(n,e=>{for(let n of t){let t=e.target;for(;t&&t!==n;)t=t.parentNode;if(t){i.call(n,e);break}}})}},n=(e,t=document)=>t.querySelector(e),i=(e,t=document)=>t.querySelectorAll(e);e.helpers.getPseudoContent=function(e,t,n){var i=window.getComputedStyle(e,t).getPropertyValue("content");return n?i.replace(/["']/g,""):i};var o;o={};e.environment=function(){const e="ontouchstart"in window;var t;e&&(t="touch",document.documentElement.classList.remove("no-"+t),document.documentElement.classList.add(t));return{touch:e,transitionEndEvent:function(){const e=document.createElement("fakeelement"),t={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(let n in t)if(void 0!==e.style[n])return t[n]}(),fullscreenFunc:["requestFullscreen","webkitRequestFullScreen","mozRequestFullScreen"].find(e=>e in document.documentElement)}}(),e.styledSelects=function(){const e=i(".styled-select select");function t(e){e.addEventListener("change",()=>o(e)),window.addEventListener("load",()=>{o(e)})}function o(e){let t=e.parentElement,i=e.options[e.selectedIndex];n("span",t).innerText=i.getAttribute("data-label")||i.text,e.selectedIndex>0?t.classList.add("selected"):t.classList.remove("selected")}return e.length&&e.forEach(e=>t(e)),{init:t,updateState:o}}(),function(){const t=i(".three-d-model");t.length&&t.forEach(t=>{const i=n(".fullscreen");e.environment.fullscreenFunc?i.addEventListener("click",()=>{n("iframe",t)[e.environment.fullscreenFunc]()}):i.remove()})}(),function(){const e=i(".cookie-poster");e.length&&e.forEach(e=>{n(".cookie-poster__pre-consent",e).addEventListener("click",t=>{if("A"===t.target.tagName)return;e.classList.add("cookie-poster--consented");let i=n("iframe",e);i&&i.setAttribute("src",i.getAttribute("data-src"))})})}(),function(){const e=n(".filters select");if(!e)return;const t=i(".grid__item");function o(){const e=this.getAttribute("data-filter-attribute"),n=this.value;var i,o;"*"===n?t.forEach(e=>e.classList.remove("grid-hidden")):(i=e,o=n,t.forEach(e=>{e.getAttribute(i)===o?e.classList.remove("grid-hidden"):e.classList.add("grid-hidden")}))}e.addEventListener("change",o),window.addEventListener("load",()=>{o.call(e)})}(),function(){const o=window.uobExhibitionsFilters;if(!o)return;const s=n(".filters"),a=i(".grid__item");function r(e){return o.find(t=>t.courseID===e)||null}function c(e){const n=`<label class="styled-select">\n      <span>${e}</span>\n      <select data-filter-attribute="data-status">\n        <option value="*" data-label="${e}" selected>All ${e}s</option>\n      </select>\n    </label>`;return t.htmlToEl(n)}function d(e,t){let n="",i=[];void 0!==e&&i.push("course:"+e),void 0!==t&&i.push("studio:"+t),i.length&&(n="#filter=",n+=i.join(",")),history.replaceState("",document.title,location.pathname+location.search+n)}function l(t){let i=null,o=null,s=0;void 0!==t&&(i=n('.filters__subfilter[data-course-id="'+t+'"]'));let a=n(".filters__subfilter.transition-in");a&&(a.classList.remove("transition-in"),s=300,setTimeout(()=>{a.classList.remove("block")},s)),i&&(o=n("select",i),0!==o.selectedIndex&&(o.selectedIndex=0,e.styledSelects.updateState(o)),setTimeout(()=>{i.classList.add("block"),i.offsetLeft,requestAnimationFrame(()=>{i.classList.add("transition-in")})},s))}function u(e,t){d(e,t),a.forEach(n=>{let i;i=void 0!==t?parseInt(n.getAttribute("data-course-id"),10)===parseInt(e,10)&&parseInt(n.getAttribute("data-studio-id"),10)===parseInt(t,10):parseInt(n.getAttribute("data-course-id"),10)===parseInt(e,10),i?n.classList.remove("grid-hidden"):n.classList.add("grid-hidden")})}const m=c("Course"),f=n("select",m);function h(){const e=this.value,t=f.value;"*"===e?u(t):u(t,e)}if(e.styledSelects.init(f),o.forEach((function(e){const n=t.htmlToEl(`<option value="${e.courseID}">${e.title}</option>`);f.appendChild(n)})),f.addEventListener("change",(function(){const e=this.value;"*"===e?(l(),d(),a.forEach(e=>e.classList.remove("grid-hidden"))):(l(e),u(e))})),s.appendChild(m),o.forEach((function(i){if(!i.studios.length)return;const o=c("Studio");o.classList.add("studios-filter");const a=n("select",o);e.styledSelects.init(a),o.setAttribute("data-course-id",i.courseID),o.classList.add("filters__subfilter"),i.studios.forEach((function(e){const n=t.htmlToEl(`<option value="${e.studioID}">${e.title}</option>`);a.appendChild(n)})),a.addEventListener("change",h),s.appendChild(o)})),window.location.hash&&window.location.hash.indexOf("filter=")){let t=window.location.hash.match(/course:(\d+)/),i=window.location.hash.match(/studio:(\d+)/);if(t&&t[1]&&(t[1]=parseInt(t[1],10)),i&&i[1]&&(i[1]=parseInt(i[1],10)),t&&r(t[1])){l(t[1]);let o=n(`option[value="${t[1]}"]`,f);if(f.selectedIndex=o.index,e.styledSelects.updateState(f),i&&function(e,t){const n=r(e);return n?n.studios.find(e=>e.studioID===t):null}(t[1],i[1])){let o=n(`.studios-filter option[value="${i[1]}"]`,s);o.parentElement.selectedIndex=o.index,e.styledSelects.updateState(o.parentElement),u(t[1],i[1])}else u(t[1])}}}(),i(".internal-back-link").forEach(e=>{e.addEventListener("click",t=>{!function(e,t){const n=t.getAttribute("data-referer");if(!n)return;const i=document.createElement("a");i.setAttribute("href",n),i.origin===window.location.origin&&n!==window.location.origin+window.location.pathname+window.location.search&&(e.preventDefault(),window.history.go(-1))}(t,e)})}),function(){const e=n(".nav__toggle-open"),t=n(".nav__toggle-close"),i=n(".nav");e.addEventListener("click",(function(e){i.classList.add("open")})),t.addEventListener("click",(function(){i.classList.remove("open")}))}(),function(){const e=i(".panopto");e.length&&e.forEach(e=>{e.addEventListener("click",()=>{const t=n(".panopto-container",e);t.closest(".cookie-poster--consented")&&function(e){new EmbedApi(e.id,{width:"750",height:"422",serverName:e.getAttribute("data-server-name"),sessionId:e.getAttribute("data-video-id"),videoParams:{interactivity:"all",showtitle:"false"},events:{onIframeReady:function(){this.loadVideo()}}})}(t)})})}(),function(){const e=n(".studio-directory__toggle select");e&&e.addEventListener("change",(function(t){const i=e.value;i&&(n(".studio-directory__panel.visible").classList.remove("visible"),n(`.studio-directory__panel[data-exhibition-id="${i}"]`).classList.add("visible"))}))}(),function(){const e=n(".title-bar__ticker-inner");if(!e)return;let t=window.innerWidth,i=!1;function o(){const n=window.innerWidth<768?1.25:2.5;let s=e.getBoundingClientRect();s.right<0||s.left>window.innerWidth?t=window.innerWidth:t-=n,e.style.transform=`translateX(${t}px)`,i||requestAnimationFrame(o)}window.addEventListener("scroll",(function(){window.scrollY>e.clientHeight?i||(i=!0):i&&(i=!1,o())}),{passive:!0}),o()}(),function(){if(!e.environment.touch)return;const n=i("[data-touch-active]"),o=[];n.length&&(t.delegate(document,n,"touchstart",(function(e){this.setAttribute("data-touch-active","true"),o.push(this)})),document.addEventListener("touchend",(function(e){o.forEach(e=>e.setAttribute("data-touch-active","")),o.length=0})))}(),function(){const t=i(".zoom-image");if(e.environment.touch)return;if(!t.length)return;let o,s,a,r,c,d,l=null;function u(e){l=e,o=1,s=!1,p(),d=n("img",e),d.src=e.getAttribute("data-zoom-src"),d.removeAttribute("srcset"),d.removeAttribute("sizes"),e.classList.add("active"),document.documentElement.classList.add("zoom-active"),document.body.appendChild(e),requestAnimationFrame(()=>{e.classList.add("transition"),requestAnimationFrame(()=>{e.classList.add("show")})}),n(".zoom-image__close",e).addEventListener("click",()=>{g(e)}),n(".zoom-image__in",e).addEventListener("click",()=>{!function(e){o+=1,o>=6&&(o=6);v(e)}(e)}),n(".zoom-image__out",e).addEventListener("click",()=>{!function(e){o-=1,o<=1&&(o=1,p());v(e)}(e)}),n("img",e).addEventListener("dragstart",e=>{e.preventDefault()}),e.addEventListener("dblclick",t=>{t.target!==d&&t.target!==e||(o=1,p(),v(e))}),e.addEventListener("touchstart",m,{passive:!0}),e.addEventListener("mousedown",m,{passive:!0}),e.addEventListener("touchend",f,{passive:!0}),e.addEventListener("mouseup",f,{passive:!0}),e.addEventListener("touchmove",h),e.addEventListener("mousemove",h)}function m(e){"touchstart"===e.type?(r.x=e.touches[0].clientX-c.x,r.y=e.touches[0].clientY-c.y):(r.x=e.clientX-c.x,r.y=e.clientY-c.y),e.target===d&&(s=!0,l.classList.add("no-image-transition"))}function f(e){r.x=a.x,r.y=a.y,l.classList.remove("no-image-transition"),s=!1}function h(e){s&&(e.preventDefault(),"touchmove"===e.type?(a.x=e.touches[0].clientX-r.x,a.y=e.touches[0].clientY-r.y):(a.x=e.clientX-r.x,a.y=e.clientY-r.y),c.x=a.x,c.y=a.y,v(l))}function v(e){n("img",e).style.transform=`translate(${a.x}px, ${a.y}px) scale(${o})`}function p(){a={x:0,y:0},r={x:0,y:0},c={x:0,y:0}}function g(e){l=null,e.classList.remove("show"),document.documentElement.classList.remove("zoom-active"),setTimeout(()=>{document.body.removeChild(e)},500)}document.addEventListener("keyup",e=>{"Esc"!==e.key&&"Escape"!==e.key||!l||g(l)}),t.forEach(e=>{e.addEventListener("click",()=>{u(e.cloneNode(!0))})})}(),document.documentElement.classList.add("ready")}(window.site||{});